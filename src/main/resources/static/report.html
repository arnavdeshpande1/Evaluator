<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/login_style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="js/login.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">
    <title>Report</title>
</head>
<body>

<div class="login-page">
    <div class="form">
        <div class="m-5">
            <h1>Report</h1>
            <h3 id="checked"></h3>
            <h3 id="unchecked"></h3>
            <h3 id="u"></h3>
            <button onclick="func()">Show Unchecked</button>

        </div>


    </div>
    <script>
        var report = localStorage["report"];
        var examGuidelines = localStorage["examGuidelines"];
        // report[]
        report = JSON.parse(report);

        var ct_unchecked=0,ct_all=0;

        for (var key in report) {
           // if (report.hasOwnProperty(key)) {
                //var val = report[key];
                //console.log(report[key]);
                //if(key=='questions'){
                    //for( key1 in key){
                        //if(key1=='question')
                            ct_unchecked++;

                    //}
            //    }

            }//}
        // console.log(ct);

        for (var key1 in examGuidelines[0]) {
            // if (report.hasOwnProperty(key)) {
            //var val = report[key];
          //  console.log(examGuidelines[key]);
            //if(key=='questions'){
            //for( key1 in key){
            //if(key1=='question')
        // console.log(examGuidelines)
        // for(var i=0;i<examGuidelines.length;i++)
        // {
            ct_all++;

            //}
            //    }

        }//}
        console.log(ct_unchecked);
        console.log(ct_all);



        var checked = document.getElementById("checked")
        checked.innerHTML = "Number of Papers Checked="+ ct_all;
        var unchecked = document.getElementById("unchecked")
        unchecked.innerText = "Number of Papers Unchecked="+ ct_unchecked;



        function func() {
            // window.location = "guidelines.html?testid="+testid;

            // console.log("in fun function")
            // console.log(report[0]["testid"])
            // console.log(typeof report)
            // var guidelineId = report[0]["testid"];
            // console.log(guidelineId)
            //
            // fetch(base+'get/pendingPapers/'+guidelineId, {
            //     method: 'GET',
            //     headers: {
            //         'Content-Type': 'application/json;charset=utf-8'
            //     }
            // }).then(response => response.json())
            //     .then((data) => {
            //         // console.log(data);
            //         data = JSON.stringify(data);
            //         console.log(data);
            //         localStorage['not_check'] = data;
            //         window.location = "remaining.html?guidelineId="+guidelineId;
            //         // document.getElementById("finalresult").value = data;
            //     });



            const tbl = document.createElement("table");
            const tblBody = document.createElement("tbody");

            // creating all cells

            // console.log(report[0]["questions"])

            let rows = report[0]["questions"].length;

            for (let i = 0; i < rows; i++) {

                const row = document.createElement("tr");
                // console.log(report[0]["questions"][i])
                for (let j = 0; j < 7; j++) {

                    if(j==0)
                    {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode(report[0]["questions"][i]["question"]);
                        cell.appendChild(cellText);
                        row.appendChild(cell);
                    }

                    else if(j==1)
                    {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode(report[0]["questions"][i]["type"]);
                        cell.appendChild(cellText);
                        row.appendChild(cell);

                    }

                    else if(j==2)
                    {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode(report[0]["questions"][i]["optionA"]);
                        cell.appendChild(cellText);
                        row.appendChild(cell);

                    }

                    else if(j==3)
                    {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode(report[0]["questions"][i]["optionB"]);
                        cell.appendChild(cellText);
                        row.appendChild(cell);

                    }

                    else if(j==4)
                    {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode(report[0]["questions"][i]["optionC"]);
                        cell.appendChild(cellText);
                        row.appendChild(cell);

                    }

                    else if(j==5)
                    {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode(report[0]["questions"][i]["optionD"]);
                        cell.appendChild(cellText);
                        row.appendChild(cell);

                    }

                    else if(j==6)
                    {
                        const cell = document.createElement("td");
                        const cellText = document.createTextNode(report[0]["questions"][i]["answer"]);
                        cell.appendChild(cellText);
                        row.appendChild(cell);

                    }

                }

                tblBody.appendChild(row);
            }
            tbl.appendChild(tblBody);
            document.body.appendChild(tbl);
            tbl.style.padding = "50px 600px 50px 600px";
            tbl.style.background = "white"
            tbl.setAttribute("border", "3");

        }


    </script>

</div>

</body>
</html>